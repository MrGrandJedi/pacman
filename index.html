<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="ppck-ver" content="3b9b231865ac427968a46ec68f1bfe13" />
    <title>PAC-MAN | Classic Arcade Game</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <script type="text/javascript">
   var uid = '492720';
   var wid = '743269';
   var pop_tag = document.createElement('script');pop_tag.src='//cdn.popcash.net/show.js';document.body.appendChild(pop_tag);
   pop_tag.onerror = function() {pop_tag = document.createElement('script');pop_tag.src='//cdn2.popcash.net/show.js';document.body.appendChild(pop_tag)};
</script>
    <!-- Navbar -->
    <nav class="navbar">
      <div class="nav-container">
        <div class="logo">PAC-MAN</div>
        <ul class="nav-links">
          <li><a href="#game">Play</a></li>
          <li><a href="#about">About</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <section class="hero">
        <h1>ðŸŸ¡ PAC-MAN</h1>
        <p>Experience the classic arcade game that started it all!</p>
      </section>

      <section id="game" class="game-container">
        <div class="game-info">
          <div class="score">Score: <span id="score">0</span></div>
          <div class="lives">Lives: <span id="lives">3</span></div>
        </div>

        <canvas id="gameCanvas" width="600" height="400"></canvas>

        <div class="controls">
          <h3>Controls:</h3>
          <p>Use ARROW KEYS or WASD to move Pac-Man</p>
          <p>Collect all dots to win! Avoid the ghosts!</p>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-content">
        <h3>PAC-MAN Classic</h3>
        <p>Relive the golden age of arcade gaming</p>
        <p>&copy; 2024 PAC-MAN Game. Built with HTML5 Canvas & JavaScript</p>
        <div class="social-links">
          <a href="#">Facebook</a>
          <a href="#">Twitter</a>
          <a href="#">Instagram</a>
          <a href="#">YouTube</a>
        </div>
      </div>
    </footer>

    <script>
      // Game Variables
      const canvas = document.getElementById("gameCanvas");
      const ctx = canvas.getContext("2d");
      const scoreElement = document.getElementById("score");
      const livesElement = document.getElementById("lives");

      let score = 0;
      let lives = 3;
      let gameRunning = true;

      // Game Board (1 = wall, 0 = dot, 2 = empty, 3 = power pellet)
      const board = [
        [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
        [1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1],
        [1, 3, 1, 1, 0, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 0, 1, 1, 3, 1],
        [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
        [1, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 0, 1],
        [1, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1],
        [1, 1, 1, 1, 0, 1, 1, 1, 2, 1, 1, 2, 1, 1, 1, 0, 1, 1, 1, 1],
        [2, 2, 2, 1, 0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 1, 0, 1, 2, 2, 2],
        [1, 1, 1, 1, 0, 1, 2, 1, 2, 2, 2, 2, 1, 2, 1, 0, 1, 1, 1, 1],
        [0, 0, 0, 0, 0, 2, 2, 1, 2, 2, 2, 2, 1, 2, 2, 0, 0, 0, 0, 0],
        [1, 1, 1, 1, 0, 1, 2, 1, 1, 1, 1, 1, 1, 2, 1, 0, 1, 1, 1, 1],
        [2, 2, 2, 1, 0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 1, 0, 1, 2, 2, 2],
        [1, 1, 1, 1, 0, 1, 1, 1, 2, 1, 1, 2, 1, 1, 1, 0, 1, 1, 1, 1],
        [1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1],
        [1, 0, 1, 1, 0, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 0, 1, 1, 0, 1],
        [1, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 3, 1],
        [1, 1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1],
        [1, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1],
        [1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 1],
        [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
      ];

      const CELL_SIZE = 30;
      const ROWS = board.length;
      const COLS = board[0].length;

      // Pac-Man
      const pacman = {
        x: 9,
        y: 15,
        direction: 0, // 0: right, 1: down, 2: left, 3: up
        nextDirection: 0,
        mouthOpen: true,
      };

      // Ghosts
      const ghosts = [
        { x: 9, y: 9, color: "#ff0000", dx: 1, dy: 0 },
        { x: 10, y: 9, color: "#ffb8ff", dx: -1, dy: 0 },
        { x: 9, y: 10, color: "#00ffff", dx: 0, dy: 1 },
        { x: 10, y: 10, color: "#ffb852", dx: 0, dy: -1 },
      ];

      // Direction vectors
      const directions = [
        { dx: 1, dy: 0 }, // right
        { dx: 0, dy: 1 }, // down
        { dx: -1, dy: 0 }, // left
        { dx: 0, dy: -1 }, // up
      ];

      // Input handling
      document.addEventListener("keydown", (e) => {
        switch (e.key) {
          case "ArrowRight":
          case "d":
          case "D":
            pacman.nextDirection = 0;
            break;
          case "ArrowDown":
          case "s":
          case "S":
            pacman.nextDirection = 1;
            break;
          case "ArrowLeft":
          case "a":
          case "A":
            pacman.nextDirection = 2;
            break;
          case "ArrowUp":
          case "w":
          case "W":
            pacman.nextDirection = 3;
            break;
        }
      });

      // Check if position is valid
      function isValidMove(x, y) {
        if (x < 0 || x >= COLS || y < 0 || y >= ROWS) return false;
        return board[y][x] !== 1;
      }

      // Move Pac-Man
      function movePacman() {
        const nextDir = directions[pacman.nextDirection];
        const nextX = pacman.x + nextDir.dx;
        const nextY = pacman.y + nextDir.dy;

        if (isValidMove(nextX, nextY)) {
          pacman.direction = pacman.nextDirection;
        }

        const currentDir = directions[pacman.direction];
        const newX = pacman.x + currentDir.dx;
        const newY = pacman.y + currentDir.dy;

        if (isValidMove(newX, newY)) {
          pacman.x = newX;
          pacman.y = newY;

          // Wrap around screen
          if (pacman.x < 0) pacman.x = COLS - 1;
          if (pacman.x >= COLS) pacman.x = 0;

          // Collect dots
          if (board[pacman.y][pacman.x] === 0) {
            board[pacman.y][pacman.x] = 2;
            score += 10;
            scoreElement.textContent = score;
          } else if (board[pacman.y][pacman.x] === 3) {
            board[pacman.y][pacman.x] = 2;
            score += 50;
            scoreElement.textContent = score;
          }
        }

        pacman.mouthOpen = !pacman.mouthOpen;
      }

      // Move ghosts
      function moveGhosts() {
        ghosts.forEach((ghost) => {
          const possibleMoves = [];

          // Check all directions
          for (let i = 0; i < 4; i++) {
            const dir = directions[i];
            const newX = ghost.x + dir.dx;
            const newY = ghost.y + dir.dy;

            if (isValidMove(newX, newY)) {
              possibleMoves.push({ x: newX, y: newY, dx: dir.dx, dy: dir.dy });
            }
          }

          if (possibleMoves.length > 0) {
            // Simple AI: sometimes chase Pac-Man, sometimes move randomly
            let chosenMove;
            if (Math.random() < 0.3) {
              // Chase Pac-Man
              chosenMove = possibleMoves.reduce((best, move) => {
                const distToPacman =
                  Math.abs(move.x - pacman.x) + Math.abs(move.y - pacman.y);
                const bestDistToPacman =
                  Math.abs(best.x - pacman.x) + Math.abs(best.y - pacman.y);
                return distToPacman < bestDistToPacman ? move : best;
              });
            } else {
              // Random movement
              chosenMove =
                possibleMoves[Math.floor(Math.random() * possibleMoves.length)];
            }

            ghost.x = chosenMove.x;
            ghost.y = chosenMove.y;
            ghost.dx = chosenMove.dx;
            ghost.dy = chosenMove.dy;

            // Wrap around screen
            if (ghost.x < 0) ghost.x = COLS - 1;
            if (ghost.x >= COLS) ghost.x = 0;
          }
        });
      }

      // Check collisions
      function checkCollisions() {
        ghosts.forEach((ghost) => {
          if (ghost.x === pacman.x && ghost.y === pacman.y) {
            lives--;
            livesElement.textContent = lives;

            if (lives <= 0) {
              gameRunning = false;
              alert("Game Over! Final Score: " + score);
              resetGame();
            } else {
              // Reset positions
              pacman.x = 9;
              pacman.y = 15;
              ghosts.forEach((g, i) => {
                g.x = 9 + (i % 2);
                g.y = 9 + Math.floor(i / 2);
              });
            }
          }
        });
      }

      // Check win condition
      function checkWin() {
        let dotsRemaining = 0;
        for (let y = 0; y < ROWS; y++) {
          for (let x = 0; x < COLS; x++) {
            if (board[y][x] === 0 || board[y][x] === 3) {
              dotsRemaining++;
            }
          }
        }

        if (dotsRemaining === 0) {
          gameRunning = false;
          alert("You Win! Final Score: " + score);
          resetGame();
        }
      }

      // Reset game
      function resetGame() {
        score = 0;
        lives = 3;
        gameRunning = true;
        scoreElement.textContent = score;
        livesElement.textContent = lives;

        // Reset board
        for (let y = 0; y < ROWS; y++) {
          for (let x = 0; x < COLS; x++) {
            if (board[y][x] === 2) {
              if ((x + y) % 3 === 0 && Math.random() < 0.1) {
                board[y][x] = 3; // Power pellet
              } else if (Math.random() < 0.7) {
                board[y][x] = 0; // Regular dot
              }
            }
          }
        }

        // Reset positions
        pacman.x = 9;
        pacman.y = 15;
        pacman.direction = 0;
        pacman.nextDirection = 0;

        ghosts.forEach((ghost, i) => {
          ghost.x = 9 + (i % 2);
          ghost.y = 9 + Math.floor(i / 2);
        });
      }

      // Render game
      function render() {
        // Clear canvas
        ctx.fillStyle = "#000";
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // Draw board
        for (let y = 0; y < ROWS; y++) {
          for (let x = 0; x < COLS; x++) {
            const cellX = x * CELL_SIZE;
            const cellY = y * CELL_SIZE;

            switch (board[y][x]) {
              case 1: // Wall
                ctx.fillStyle = "#0000ff";
                ctx.fillRect(cellX, cellY, CELL_SIZE, CELL_SIZE);
                break;
              case 0: // Dot
                ctx.fillStyle = "#ffff00";
                ctx.beginPath();
                ctx.arc(
                  cellX + CELL_SIZE / 2,
                  cellY + CELL_SIZE / 2,
                  3,
                  0,
                  Math.PI * 2
                );
                ctx.fill();
                break;
              case 3: // Power pellet
                ctx.fillStyle = "#ffff00";
                ctx.beginPath();
                ctx.arc(
                  cellX + CELL_SIZE / 2,
                  cellY + CELL_SIZE / 2,
                  8,
                  0,
                  Math.PI * 2
                );
                ctx.fill();
                break;
            }
          }
        }

        // Draw Pac-Man
        const pacX = pacman.x * CELL_SIZE + CELL_SIZE / 2;
        const pacY = pacman.y * CELL_SIZE + CELL_SIZE / 2;

        ctx.fillStyle = "#ffff00";
        ctx.beginPath();

        if (pacman.mouthOpen) {
          const startAngle = (pacman.direction * Math.PI) / 2 - Math.PI / 6;
          const endAngle = (pacman.direction * Math.PI) / 2 + Math.PI / 6;
          ctx.arc(pacX, pacY, CELL_SIZE / 2 - 2, startAngle, endAngle);
          ctx.lineTo(pacX, pacY);
        } else {
          ctx.arc(pacX, pacY, CELL_SIZE / 2 - 2, 0, Math.PI * 2);
        }

        ctx.fill();

        // Draw ghosts
        ghosts.forEach((ghost) => {
          const ghostX = ghost.x * CELL_SIZE + CELL_SIZE / 2;
          const ghostY = ghost.y * CELL_SIZE + CELL_SIZE / 2;

          ctx.fillStyle = ghost.color;
          ctx.beginPath();
          ctx.arc(ghostX, ghostY, CELL_SIZE / 2 - 2, Math.PI, 0);
          ctx.lineTo(ghostX + CELL_SIZE / 2 - 2, ghostY + CELL_SIZE / 2 - 2);
          ctx.lineTo(ghostX + CELL_SIZE / 4, ghostY + CELL_SIZE / 3);
          ctx.lineTo(ghostX, ghostY + CELL_SIZE / 2 - 2);
          ctx.lineTo(ghostX - CELL_SIZE / 4, ghostY + CELL_SIZE / 3);
          ctx.lineTo(ghostX - CELL_SIZE / 2 + 2, ghostY + CELL_SIZE / 2 - 2);
          ctx.closePath();
          ctx.fill();

          // Ghost eyes
          ctx.fillStyle = "#fff";
          ctx.beginPath();
          ctx.arc(ghostX - 6, ghostY - 6, 4, 0, Math.PI * 2);
          ctx.arc(ghostX + 6, ghostY - 6, 4, 0, Math.PI * 2);
          ctx.fill();

          ctx.fillStyle = "#000";
          ctx.beginPath();
          ctx.arc(ghostX - 6, ghostY - 6, 2, 0, Math.PI * 2);
          ctx.arc(ghostX + 6, ghostY - 6, 2, 0, Math.PI * 2);
          ctx.fill();
        });
      }

      // Game loop
      function gameLoop() {
        if (gameRunning) {
          movePacman();
          moveGhosts();
          checkCollisions();
          checkWin();
        }

        render();
        setTimeout(gameLoop, 200);
      }

      // Start game
      gameLoop();
    </script>
  </body>
</html>
